<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>AYCHTEEEMEL</title>
	</head>
	<style>
		
		#text {
			position: fixed;
			box-sizing: border-box;
			padding: 10px;
			font-family: monospace;
			font-size: 14px;
			background: black;
			color: white;
			left: 0px;
			top: 0px !important;
			margin: 0px;
			width: 100%;
			height: 97%;
			outline: none !important;
			border: none;
			resize: none;
		}

		#bar {
			position: fixed;
			width: 100%;
			height: 3%;
			bottom: 0px;
			background: lightgrey;
			left: 0px;
		}

		.onbar {
			background: none;
			border: none;
			font-family: sans-serif;
			outline: none !important;
		}

		.onbar:hover {
			background: grey;
		}

	</style>
	<body>

		<textarea id="text" contenteditable="true">
&lt;DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
		&lt;meta charaset="uft-8"&gt;
		&lt;title&gt;New Webpage&lt;/title&gt;
	&lt;/head&gt;
	&lt;body&gt;
	&#9;
	&#9;
	&#9;
	&lt;/body&gt;
&lt;/html&gt;</textarea>
		
		<div id="bar">
			<button class="onbar" style="float: right;" onclick="runcode();">Run</button>
		</div>

	</body>
	<script src="https://vicchat.github.io/termtest.js"></script>
	<script>
		
		var runcode = function() {
			var text = document.getElementById("text").value;
			var code = window.open("", "code", "left=50,top=50,width=700,height=400");
			code.document.body.innerHTML = text;
		}

		var textTab = function(e) {
            if (e.key == 'Tab') {
                e.preventDefault();
                var start = this.selectionStart;
                var end = this.selectionEnd;

                // set textarea value to: text before caret + tab + text after caret
                this.value = this.value.substring(0, start) +
                  "\t" + this.value.substring(end);

                // put caret at right position again
                this.selectionStart =
                this.selectionEnd = start + 1;
            }
        };

        var pre = document.getElementById("text");

        pre.addEventListener("keydown", textTab);

	</script>
</html>
